{% include 'header.html' %}
<script src="{{ url_for('static', filename='js/student.js') }}"></script>
<body>
    {% include 'top_menus.html' %}
    <div class="container">
        {% include 'left_menus.html' %}
        <div class="content">
            <div class="container-fluid">
                <div class="row">
                    <a href="#"><strong><span class="ti-crown"></span> Edit Student</strong></a>
                    <hr>

                    <form method="post" id="studentForm" enctype="multipart/form-data" action="{{ url_for('save_student') }}">
                        <input type="hidden" name="studentid" value="{{ student.id }}">
                        <input type="hidden" name="action" value="updateStudent">

                        <div class="form-group">
                            <label>Admission Number</label>
                            <input type="number" class="form-control" name="admission_no" value="{{ student.admission_no }}">
                        </div>

                        <div class="form-group">
                            <label>Roll Number</label>
                            <input type="number" class="form-control" name="roll_no" value="{{ student.roll_no }}">
                        </div>

                        <div class="form-group">
                            <label>Academic Year</label>
                            <select name="academic_year" class="form-control">
                                <option value="">Select Year</option>
                                {% for y in [2018,2019,2020,2021,2022] %}
                                    <option value="{{ y }}" {% if student.academic_year == y %}selected{% endif %}>{{ y }}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Admission Date</label>
                            <input type="text" class="form-control" name="admission_date" value="{{ student.admission_date }}">
                        </div>

                        <div class="form-group">
                            <label>Class</label>
                            <select name="class" class="form-control">
                                {% for cls in classes %}
                                    <option value="{{ cls.id }}" {% if cls.id == student.class_id %}selected{% endif %}>{{ cls.name }}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Section</label>
                            <select name="section" class="form-control">
                                {% for sec in sections %}
                                    <option value="{{ sec.section_id }}" {% if sec.section_id == student.section_id %}selected{% endif %}>{{ sec.section }}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Full Name</label>
                            <input type="text" class="form-control" name="name" value="{{ student.name }}">
                        </div>

                        <div class="form-group">
                            <label>Gender</label>
                            <select name="gender" class="form-control">
                                <option value="">--Select--</option>
                                <option value="male" {% if student.gender == 'male' %}selected{% endif %}>Male</option>
                                <option value="female" {% if student.gender == 'female' %}selected{% endif %}>Female</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Date of Birth</label>
                            <input type="text" class="form-control" name="dob" value="{{ student.dob }}">
                        </div>

                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" class="form-control" name="email" value="{{ student.email }}">
                        </div>

                        <div class="form-group">
                            <label>Mobile</label>
                            <input type="number" class="form-control" name="mobile" value="{{ student.mobile }}">
                        </div>

                        <div class="form-group">
                            <label>Current Address</label>
                            <input type="text" class="form-control" name="current_address" value="{{ student.current_address }}">
                        </div>

                        <div class="form-group">
                            <label>Permanent Address</label>
                            <input type="text" class="form-control" name="permanent_address" value="{{ student.permanent_address }}">
                        </div>

                        <div class="form-group">
                            <label>Father Name</label>
                            <input type="text" class="form-control" name="father_name" value="{{ student.father_name }}">
                        </div>

                        <div class="form-group">
                            <label>Father Mobile</label>
                            <input type="number" class="form-control" name="father_mobile" value="{{ student.father_mobile }}">
                        </div>

                        <div class="form-group">
                            <label>Father Occupation</label>
                            <input type="text" class="form-control" name="father_occupation" value="{{ student.father_occupation }}">
                        </div>

                        <div class="form-group">
                            <label>Mother Name</label>
                            <input type="text" class="form-control" name="mother_name" value="{{ student.mother_name }}">
                        </div>

                        <div class="form-group">
                            <label>Mother Mobile</label>
                            <input type="number" class="form-control" name="mother_mobile" value="{{ student.mother_mobile }}">
                        </div>

                        <div class="form-group">
                            <label>Photo</label>
                            <input type="file" class="form-control" name="photo">
                            {% if student.photo %}
                                <img src="{{ url_for('static', filename='uploads/' ~ student.photo) }}" width="80">
                            {% endif %}
                        </div>

                        <button type="submit" class="btn btn-info">Save</button>
                    </form>

                </div>
            </div>
        </div>
    </div>
</body>
</html>
